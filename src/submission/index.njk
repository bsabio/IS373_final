---
title: Submit Your Work
layout: base.njk
permalink: "/submission/index.html"
description: Share your design with our community gallery
---

<style>
.submission-hero {
  padding: 3rem 2rem;
  background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
  color: #f5f5f5;
  text-align: center;
  margin-bottom: 3rem;
}
.submission-hero h1 {
  font-size: clamp(2rem, 5vw, 3rem);
  font-weight: 900;
  margin-bottom: 1rem;
  letter-spacing: -0.02em;
}
.submission-form-container {
  max-width: 700px;
  margin: 0 auto;
  padding: 0 2rem 4rem;
}
.form-section {
  background: #1a1a1a;
  border: 2px solid #2a2a2a;
  border-radius: 8px;
  padding: 3rem;
  box-shadow: 0 4px 20px rgba(0,0,0,0.4);
}
</style>

<div class="submission-hero">
  <p style="text-transform: uppercase; letter-spacing: 0.15em; font-size: 0.75rem; font-weight: bold; opacity: 0.9; margin-bottom: 1rem;">
    03 — Share Your Work
  </p>
  <h1>Submit a Design</h1>
  <p style="font-size: 1.125rem; max-width: 600px; margin: 0 auto; opacity: 0.95;">
    Join our creative community by submitting your design work for review and showcase
  </p>
</div>

<div class="submission-form-container">
  <div class="form-section">
    <form id="submissionForm" novalidate style="display: flex; flex-direction: column; gap: 1.5rem;">
      <div style="display: flex; flex-direction: column; gap: 0.5rem;">
        <label for="name" style="font-weight: 600; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; color: #4a5568;">Name *</label>
        <input id="name" name="name" type="text" required style="padding: 0.75rem 1rem; border: 2px solid #e2e8f0; border-radius: 4px; font-size: 1rem; transition: border-color 0.3s ease;" />
      </div>

      <div style="display: flex; flex-direction: column; gap: 0.5rem;">
        <label for="email" style="font-weight: 600; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; color: #4a5568;">Email *</label>
        <input id="email" name="email" type="email" required style="padding: 0.75rem 1rem; border: 2px solid #e2e8f0; border-radius: 4px; font-size: 1rem; transition: border-color 0.3s ease;" />
      </div>

      <div style="display: flex; flex-direction: column; gap: 0.5rem;">
        <label for="style" style="font-weight: 600; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; color: #4a5568;">Design Style *</label>
        <select id="style" name="style" required style="padding: 0.75rem 1rem; border: 2px solid #e2e8f0; border-radius: 4px; font-size: 1rem; transition: border-color 0.3s ease; background-color: white;">
          <option value="">Loading styles…</option>
        </select>
      </div>

      <div style="display: flex; flex-direction: column; gap: 0.5rem;">
        <label for="url" style="font-weight: 600; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; color: #4a5568;">URL *</label>
        <input id="url" name="url" type="url" required style="padding: 0.75rem 1rem; border: 2px solid #e2e8f0; border-radius: 4px; font-size: 1rem; transition: border-color 0.3s ease;" />
      </div>

      <div style="display: flex; flex-direction: column; gap: 0.5rem;">
        <label for="screenshot" style="font-weight: 600; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; color: #4a5568;">Screenshot (image) *</label>
        <input id="screenshot" name="screenshot" type="file" accept="image/*" required style="padding: 0.75rem 1rem; border: 2px solid #e2e8f0; border-radius: 4px; font-size: 1rem; transition: border-color 0.3s ease;" />
      </div>

      <div style="display: flex; flex-direction: column; gap: 0.5rem;">
        <label for="description" style="font-weight: 600; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; color: #4a5568;">Description *</label>
        <textarea id="description" name="description" rows="5" required style="padding: 0.75rem 1rem; border: 2px solid #e2e8f0; border-radius: 4px; font-size: 1rem; transition: border-color 0.3s ease; resize: vertical;"></textarea>
      </div>

      <button type="submit" style="padding: 1rem 2rem; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; font-weight: bold; text-transform: uppercase; letter-spacing: 0.1em; border: none; border-radius: 4px; cursor: pointer; font-size: 1rem; transition: transform 0.3s ease, box-shadow 0.3s ease;">
        Submit Design
      </button>

      <div id="formMessage" role="status" aria-live="polite" style="padding: 1rem; border-radius: 4px; font-weight: 600; text-align: center;"></div>
    </form>
  </div>
</div>

<style>
  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: #f093fb;
  }
  button[type="submit"]:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(240, 147, 251, 0.4);
  }
</style>

<script>
// API_ROOT can be set globally (e.g. window.API_ROOT) if API server runs on a different port.
const API_ROOT = (typeof window.API_ROOT !== 'undefined') ? window.API_ROOT : ''

const form = document.getElementById('submissionForm')
const messageEl = document.getElementById('formMessage')
const styleSelect = document.getElementById('style')

async function loadStyles(){
  try{
    const r = await fetch(API_ROOT + '/api/styles')
    if(!r.ok) throw new Error('Failed to load styles')
    const data = await r.json()
    styleSelect.innerHTML = '<option value="">Select a style</option>'
    data.styles.forEach(s => {
      const opt = document.createElement('option')
      opt.value = s._id
      opt.textContent = s.title
      styleSelect.appendChild(opt)
    })
  }catch(err){
    // Fallback to static options if API is unavailable
    console.log('Using fallback styles')
    styleSelect.innerHTML = `
      <option value="">Select a style</option>
      <option value="bauhaus">Bauhaus</option>
      <option value="minimalism">Minimalism</option>
      <option value="neo-futurism">Neo-Futurism</option>
      <option value="swiss-design">Swiss Design</option>
      <option value="brutalism">Brutalism</option>
      <option value="art-deco">Art Deco</option>
    `
  }
}

function showMessage(text, isError=false){
  messageEl.textContent = text
  messageEl.style.color = isError ? 'crimson' : 'green'
}

function validateEmail(email){
  // simple RFC-ish check
  return /\S+@\S+\.\S+/.test(email)
}

form.addEventListener('submit', async (e) => {
  e.preventDefault()
  showMessage('Submitting...')

  const name = form.name.value.trim()
  const email = form.email.value.trim()
  const style = form.style.value
  const url = form.url.value.trim()
  const description = form.description.value.trim()
  const file = form.screenshot.files[0]

  // Client-side validation
  if(!name || !email || !style || !url || !description || !file){
    return showMessage('Please fill all required fields.', true)
  }
  if(!validateEmail(email)) return showMessage('Please enter a valid email.', true)

  try{
    // convert file to data URL (base64)
    const dataUrl = await new Promise((resolve, reject) => {
      const reader = new FileReader()
      reader.onload = () => resolve(reader.result)
      reader.onerror = reject
      reader.readAsDataURL(file)
    })

    const payload = { name, email, style, url, description, screenshot: dataUrl }

    const resp = await fetch(API_ROOT + '/api/submit', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    })

    const result = await resp.json()
    if(!resp.ok || result.error){
      throw new Error(result.error || 'Submission failed')
    }

    showMessage('Submission received — thank you!')
    form.reset()
  }catch(err){
    console.error(err)
    showMessage('Error: ' + (err.message || 'Submission failed'), true)
  }
})

// Load styles on page load
loadStyles()
</script>
